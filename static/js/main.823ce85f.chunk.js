(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{59:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n(11),o=n.n(a),r=n(5),s=n(13),i=n(14),u=n(17),b=n(15),l=n(7),m=n(8),d=n.n(m),j=n(10),h=n.n(j),C=n(2),f={addContactsRequest:Object(C.b)("contacts/addRequest"),addContactsSuccess:Object(C.b)("contacts/addSuccess"),addContactsError:Object(C.b)("contacts/addError"),fetchContactsRequest:Object(C.b)("contacts/fetchRequest"),fetchContactsSuccess:Object(C.b)("contacts/fetchSuccess"),fetchContactsError:Object(C.b)("contacts/fetchError"),removeContactRequest:Object(C.b)("contacts/removeRequest"),removeContactSuccess:Object(C.b)("contacts/removeSuccess"),removeContactError:Object(C.b)("contacts/removeError"),changeFilter:Object(C.b)("contacts/changeFilter")};h.a.defaults.baseURL="http://localhost:2000";var O={addContact:function(t,e){return function(n){n(f.addContactsRequest()),h.a.post("/contacts",{name:t,number:e}).then((function(t){var e=t.data;n(f.addContactsSuccess(e))})).catch((function(t){n(f.addContactsError(t))}))}},fetchContacts:function(){return function(t){t(f.fetchContactsRequest()),h.a.get("/contacts").then((function(e){var n=e.data;return t(f.fetchContactsSuccess(n))})).catch((function(e){return t(f.fetchContactsError(e))}))}},removeContact:function(t){return function(e){e(f.removeContactRequest()),h.a.delete("/contacts/".concat(t)).then((function(){return e(f.removeContactSuccess(t))})).catch((function(t){return e(f.removeContactError(t))}))}}},p=n(1),v=function(t){Object(u.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(s.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:""},t.handleSubmit=function(e){e.preventDefault(),t.props.onAddContact(t.state.name,t.state.number),t.setState({name:"",number:""})},t.handlechange=function(e){var n=e.target.name;t.setState(Object(l.a)({},n,e.target.value))},t}return Object(i.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("form",{onSubmit:this.handleSubmit,className:d.a.ContactForm,children:[Object(p.jsxs)("label",{className:d.a.ContactForm_label,children:["Name",Object(p.jsx)("input",{type:"text",name:"name",value:this.state.name,onChange:this.handlechange,className:d.a.ContactForm_input})]}),Object(p.jsxs)("label",{className:d.a.ContactForm_label,children:["Number",Object(p.jsx)("input",{type:"tel",name:"number",value:this.state.number,onChange:this.handlechange,placeholder:"Example +380440000000",className:d.a.ContactForm_input})]}),Object(p.jsx)("button",{type:"submit",className:d.a.ContactForm_btn,children:"Add contact"})]})}}]),n}(c.Component),_={onAddContact:O.addContact},g=Object(r.b)(null,_)(v),F=n(6),x=n.n(F),y=n(9),R=n.n(y),S=Object(r.b)(null,(function(t,e){return{onRemove:function(){return t(O.removeContact(e.id))}}}))((function(t){var e=t.name,n=t.number,c=(t.id,t.onRemove);return Object(p.jsxs)("li",{className:R.a.ContactList_item,children:[Object(p.jsxs)("p",{children:["- ",e,": ",n]}),Object(p.jsx)("button",{type:"button",onClick:c,className:R.a.ContactList_item_btn,children:"Delete"})]})})),q=n(12),L=function(t){return t.contacts.filter},k={getFilter:L,getVisibleTasks:Object(q.a)([function(t){return t.contacts.items},L],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))}))},E=function(t){var e=t.contacts;return Object(p.jsx)("ul",{className:R.a.ContactList,children:e.map((function(t){var e=t.id,n=t.name,c=t.number;return Object(p.jsx)(S,{name:n,number:c,id:e},e)}))})};E.prototype={contacts:x.a.arrayOf(x.a.exact({id:x.a.string.isRequired,name:x.a.string.isRequired,number:x.a.string.isRequired})),onRemoveContact:x.a.func.isRequired};var N=Object(r.b)((function(t){return{contacts:k.getVisibleTasks(t)}}))(E),w=function(t){var e=t.value,n=t.onChangeFilter;return Object(p.jsxs)("div",{children:[Object(p.jsx)("p",{children:"Find contacts by name"}),Object(p.jsx)("input",{type:"text",value:e,onChange:function(t){return n(t.target.value)}})]})},A={onChangeFilter:f.changeFilter};w.prototype={value:x.a.string.isRequired,onChangeFilter:x.a.func.isRequired};var D,P=Object(r.b)((function(t){return{value:k.getFilter(t)}}),A)(w),T=function(t){Object(u.a)(n,t);var e=Object(b.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContacts()}},{key:"render",value:function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"PhoneBook"}),Object(p.jsx)(g,{}),Object(p.jsx)(P,{}),Object(p.jsx)("h2",{children:"Contacts"}),Object(p.jsx)(N,{})]})}}]),n}(c.Component),J={onFetchContacts:O.fetchContacts},V=Object(r.b)(null,J)(T),z=n(16),B=n(4),G=Object(C.c)([],(D={},Object(l.a)(D,f.addContactsSuccess,(function(t,e){return[].concat(Object(z.a)(t),[e.payload])})),Object(l.a)(D,f.fetchContactsSuccess,(function(t,e){return e.payload})),Object(l.a)(D,f.removeContactSuccess,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),Object(l.a)(D,f.changeFilter,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),D)),H=Object(C.c)("",Object(l.a)({},f.changeFilter,(function(t,e){return e.payload}))),M=Object(B.c)({items:G,filter:H}),U=Object(C.d)(),Y=Object(C.a)({reducer:{contacts:M},middleware:Object(z.a)(U)});o.a.render(Object(p.jsx)(r.a,{store:Y,children:Object(p.jsx)(V,{})}),document.querySelector("#root"))},8:function(t,e,n){t.exports={ContactForm:"ContactForm_ContactForm__1zvAA",ContactForm_label:"ContactForm_ContactForm_label__3P8Ek",ContactForm_input:"ContactForm_ContactForm_input__2HggA",ContactForm_btn:"ContactForm_ContactForm_btn__2DSYP"}},9:function(t,e,n){t.exports={ContactList:"ContactList_ContactList__4TvGi",ContactList_item:"ContactList_ContactList_item__1wR0Z",ContactList_item_btn:"ContactList_ContactList_item_btn__yspio"}}},[[59,1,2]]]);
//# sourceMappingURL=main.823ce85f.chunk.js.map